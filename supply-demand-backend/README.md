# Supply-Demand Prediction System

A sophisticated system that combines event-based and historical data analysis to predict future driver distribution patterns.

## Overview

This system uses two main components to predict driver demand:
1. Event-based Analysis (`non_historical_event_prediction.py`)
2. Historical Pattern Analysis (`historical_event_prediction.py`)

The final prediction is generated by combining both analyses.

## Components

### 1. Event-based Analysis
- Fetches upcoming events from Ticketmaster API
- Analyzes event details including:
  - Venue capacity
  - Event type
  - Location
  - Timing
- Uses GPT-4 to predict:
  - High-demand events
  - Peak request times
  - Geographic hotspots
  - Expected ride volumes

### 2. Historical Pattern Analysis
- Implements Spatio-temporal LSTM network
- Analyzes historical rider distribution patterns
- Considers:
  - Time-based patterns
  - Geographic distributions
  - Seasonal trends

## Setup

1. Create a `.env` file with required API keys:
```
TICKETMASTER_API_KEY=your_key_here
OPENAI_API_KEY=your_key_here
```
2. Install dependencies:
```bash
pip install -r requirements.txt
```

## Usage

```python
# Initialize services
event_service = EventAnalysisService(EVENT_API_KEY, OPENAI_API_KEY)
historical_service = HistoricalPredictionService()

# Get predictions
event_prediction = event_service.analyze_events_with_ai(events, lat, lon)
historical_prediction = historical_service.predict(timestamp, location)

# Combine predictions for final distribution
final_distribution = combine_predictions(event_prediction, historical_prediction)
```

## Dependencies
- OpenAI GPT-4 API
- Ticketmaster API
- PyTorch (for LSTM)
- Other requirements listed in `requirements.txt`

## Note
The system combines both real-time event analysis and historical patterns to provide more accurate predictions for driver distribution, helping optimize ride-sharing service efficiency.